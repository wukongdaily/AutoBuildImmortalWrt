# ImmortalWrt x86-64 å›ºä»¶æµ‹è¯•æŒ‡å—

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨æµ‹è¯•æ„å»ºçš„ x86-64 å›ºä»¶çš„æ‰€æœ‰åŠŸèƒ½ã€‚

---

## ğŸ“‹ ç›®å½•

1. [è·å–æ„å»ºçš„å›ºä»¶](#1-è·å–æ„å»ºçš„å›ºä»¶)
2. [æµ‹è¯•ç¯å¢ƒé€‰æ‹©](#2-æµ‹è¯•ç¯å¢ƒé€‰æ‹©)
3. [è™šæ‹Ÿæœºæµ‹è¯•æ­¥éª¤](#3-è™šæ‹Ÿæœºæµ‹è¯•æ­¥éª¤)
4. [åŠŸèƒ½æµ‹è¯•æ¸…å•](#4-åŠŸèƒ½æµ‹è¯•æ¸…å•)
5. [å¸¸è§é—®é¢˜æ’æŸ¥](#5-å¸¸è§é—®é¢˜æ’æŸ¥)
6. [ç‰©ç†æœºæµ‹è¯•](#6-ç‰©ç†æœºæµ‹è¯•)

---

## 1. è·å–æ„å»ºçš„å›ºä»¶

### 1.1 ç­‰å¾…æ„å»ºå®Œæˆ

1. è®¿é—® [Actions é¡µé¢](https://github.com/MitaHill/AutoBuildImmortalWrt/actions)
2. æŸ¥çœ‹ "build-x86-64-immortalwrt-24.10.2" å·¥ä½œæµçŠ¶æ€
3. ç­‰å¾…æ˜¾ç¤ºç»¿è‰² âœ…ï¼ˆæˆåŠŸï¼‰æˆ–çº¢è‰² âŒï¼ˆå¤±è´¥ï¼‰

**é¢„è®¡æ—¶é—´**ï¼š10-20 åˆ†é’Ÿ

### 1.2 ä¸‹è½½å›ºä»¶

æ„å»ºæˆåŠŸåï¼š

1. è®¿é—® [Releases é¡µé¢](https://github.com/MitaHill/AutoBuildImmortalWrt/releases/tag/Autobuild-x86-64)
2. ä¸‹è½½ä»¥ä¸‹æ–‡ä»¶ï¼š
   - `immortalwrt-*-x86-64-generic-squashfs-combined-efi.img.gz` ï¼ˆå›ºä»¶é•œåƒï¼‰
   - `*.sha256` ï¼ˆæ ¡éªŒå’Œæ–‡ä»¶ï¼‰

### 1.3 æ ¡éªŒæ–‡ä»¶å®Œæ•´æ€§

**Windows (PowerShell)**
```powershell
Get-FileHash .\immortalwrt-*-x86-64-generic-squashfs-combined-efi.img.gz -Algorithm SHA256
# å¯¹æ¯” .sha256 æ–‡ä»¶ä¸­çš„å€¼
```

**Linux/macOS**
```bash
sha256sum -c immortalwrt-*-x86-64-generic-squashfs-combined-efi.img.gz.sha256
# åº”æ˜¾ç¤º: OK
```

### 1.4 è§£å‹å›ºä»¶

```bash
# Linux/macOS
gunzip immortalwrt-*-x86-64-generic-squashfs-combined-efi.img.gz

# Windows
# ä½¿ç”¨ 7-Zip æˆ– WinRAR è§£å‹
```

è§£å‹åå¾—åˆ° `.img` æ–‡ä»¶ã€‚

---

## 2. æµ‹è¯•ç¯å¢ƒé€‰æ‹©

| æ–¹å¼ | ä¼˜ç‚¹ | ç¼ºç‚¹ | æ¨èæŒ‡æ•° |
|------|------|------|---------|
| **VirtualBox** | å…è´¹ã€è·¨å¹³å°ã€ç®€å• | æ€§èƒ½ä¸€èˆ¬ | â­â­â­â­â­ |
| **VMware Workstation/Fusion** | æ€§èƒ½å¥½ã€åŠŸèƒ½å¼º | æ”¶è´¹ï¼ˆæœ‰å…è´¹ç‰ˆï¼‰ | â­â­â­â­ |
| **Proxmox VE** | ä¸“ä¸šã€æ¥è¿‘ç”Ÿäº§ç¯å¢ƒ | éœ€è¦ç‹¬ç«‹æœåŠ¡å™¨ | â­â­â­â­ |
| **QEMU/KVM** | æ€§èƒ½æœ€å¥½ | é…ç½®å¤æ‚ | â­â­â­ |
| **ç‰©ç†æœº** | çœŸå®ç¯å¢ƒ | éœ€è¦é¢å¤–ç¡¬ä»¶ | â­â­â­ |

**æ¨èæ–°æ‰‹ä½¿ç”¨**: VirtualBoxï¼ˆæœ¬æŒ‡å—ä»¥æ­¤ä¸ºä¾‹ï¼‰

---

## 3. è™šæ‹Ÿæœºæµ‹è¯•æ­¥éª¤

### 3.1 å®‰è£… VirtualBox

**ä¸‹è½½åœ°å€**: https://www.virtualbox.org/wiki/Downloads

é€‰æ‹©å¯¹åº”æ“ä½œç³»ç»Ÿçš„ç‰ˆæœ¬å®‰è£…ã€‚

### 3.2 è½¬æ¢å›ºä»¶æ ¼å¼ï¼ˆå¯é€‰ï¼‰

VirtualBox åŸç”Ÿæ”¯æŒ `.img`ï¼Œä½†è½¬æ¢ä¸º `.vmdk` æˆ– `.vdi` æ€§èƒ½æ›´å¥½ï¼š

**æ–¹æ³•1: ä½¿ç”¨ VBoxManageï¼ˆæ¨èï¼‰**
```bash
# è½¬æ¢ä¸º VDI æ ¼å¼
VBoxManage convertfromraw immortalwrt-*.img immortalwrt.vdi --format VDI

# æˆ–è½¬æ¢ä¸º VMDK æ ¼å¼
VBoxManage convertfromraw immortalwrt-*.img immortalwrt.vmdk --format VMDK
```

**æ–¹æ³•2: ä½¿ç”¨ qemu-img**
```bash
qemu-img convert -f raw -O vmdk immortalwrt-*.img immortalwrt.vmdk
```

### 3.3 åˆ›å»ºè™šæ‹Ÿæœº

#### VirtualBox é…ç½®æ­¥éª¤ï¼š

1. **åˆ›å»ºæ–°è™šæ‹Ÿæœº**
   - åç§°: `ImmortalWrt-Test`
   - ç±»å‹: `Linux`
   - ç‰ˆæœ¬: `Other Linux (64-bit)`
   - å†…å­˜: `512 MB`ï¼ˆæœ€å°ï¼‰æˆ– `1024 MB`ï¼ˆæ¨èï¼‰

2. **ä½¿ç”¨ç°æœ‰è™šæ‹Ÿç¡¬ç›˜**
   - é€‰æ‹©è½¬æ¢åçš„ `.vdi` æˆ– `.vmdk` æ–‡ä»¶
   - æˆ–ç›´æ¥æ·»åŠ  `.img` ä½œä¸ºç¡¬ç›˜

3. **ç½‘ç»œé…ç½®**ï¼ˆé‡è¦ï¼ï¼‰

   **æ–¹æ¡ˆ A: æ¡¥æ¥æ¨¡å¼ï¼ˆæ¨è - å•ç½‘å£æµ‹è¯•ï¼‰**
   ```
   ç½‘å¡1: æ¡¥æ¥ç½‘å¡
   - è¿æ¥æ–¹å¼: æ¡¥æ¥ç½‘å¡
   - é€‰æ‹©ç‰©ç†ç½‘å¡: ä½ çš„å®é™…ç½‘å¡
   ```
   - âœ… å›ºä»¶å°†è‡ªåŠ¨è·å– DHCP IP
   - âœ… å¯åœ¨è·¯ç”±å™¨ç®¡ç†é¡µé¢æŸ¥çœ‹ IP
   - âœ… æ¨¡æ‹Ÿå•ç½‘å£è®¾å¤‡ï¼ˆæ—è·¯ç”±æ¨¡å¼ï¼‰

   **æ–¹æ¡ˆ B: åŒç½‘å¡æ¨¡å¼ï¼ˆæ¨è - å¤šç½‘å£æµ‹è¯•ï¼‰**
   ```
   ç½‘å¡1: NAT æˆ–æ¡¥æ¥ï¼ˆWANå£ï¼‰
   ç½‘å¡2: ä»…ä¸»æœº(Host-Only)ç½‘ç»œï¼ˆLANå£ï¼‰
   ```
   - âœ… æ¨¡æ‹ŸçœŸå®è·¯ç”±å™¨ç¯å¢ƒ
   - âœ… LAN IP ä¸º 192.168.100.1
   - âœ… å¯æµ‹è¯• NATã€é˜²ç«å¢™ç­‰åŠŸèƒ½

4. **å…¶ä»–è®¾ç½®**
   - ç³»ç»Ÿ â†’ å¯åŠ¨é¡ºåº: åªå‹¾é€‰ "ç¡¬ç›˜"
   - ç³»ç»Ÿ â†’ ä¸»æ¿: å¯ç”¨ EFIï¼ˆæ¨èï¼‰
   - æ˜¾ç¤º â†’ æ˜¾å­˜: 16 MBï¼ˆè¶³å¤Ÿï¼‰
   - å­˜å‚¨ â†’ æ§åˆ¶å™¨: SATAï¼ˆä¸è¦ç”¨ IDEï¼‰

### 3.4 å¯åŠ¨è™šæ‹Ÿæœº

1. ç‚¹å‡» "å¯åŠ¨" æŒ‰é’®
2. ç­‰å¾…å¯åŠ¨ï¼ˆçº¦ 30-60 ç§’ï¼‰
3. çœ‹åˆ°ç™»å½•æç¤ºç¬¦è¡¨ç¤ºå¯åŠ¨æˆåŠŸ

```
ImmortalWrt login:
```

---

## 4. åŠŸèƒ½æµ‹è¯•æ¸…å•

### 4.1 åŸºç¡€ç³»ç»Ÿæµ‹è¯•

#### âœ… æµ‹è¯•1: ç™»å½•ç³»ç»Ÿ

**è™šæ‹Ÿæœºç»ˆç«¯**
```
ç”¨æˆ·å: root
å¯†ç : password
```

**é¢„æœŸç»“æœ**: æˆåŠŸç™»å½•ï¼Œæ˜¾ç¤º BusyBox æç¤ºç¬¦

#### âœ… æµ‹è¯•2: æ£€æŸ¥ç½‘ç»œé…ç½®

**å•ç½‘å£æ¨¡å¼ï¼ˆæ¡¥æ¥ï¼‰**
```bash
# æŸ¥çœ‹ IP åœ°å€
ip addr show br-lan

# é¢„æœŸ: æ˜¾ç¤ºä»è·¯ç”±å™¨è·å–çš„ IP (å¦‚ 192.168.1.xxx)
```

**å¤šç½‘å£æ¨¡å¼ï¼ˆåŒç½‘å¡ï¼‰**
```bash
# æŸ¥çœ‹ LAN IP
uci get network.lan.ipaddr
# é¢„æœŸ: 192.168.100.1

# æŸ¥çœ‹ WAN çŠ¶æ€
ifstatus wan
# é¢„æœŸ: æ˜¾ç¤º DHCP è·å–çš„ IP
```

#### âœ… æµ‹è¯•3: è®¿é—® Web ç•Œé¢

**å•ç½‘å£æ¨¡å¼**
1. åœ¨å®¿ä¸»æœºä¸ŠæŸ¥çœ‹è·¯ç”±å™¨ç®¡ç†é¡µé¢ï¼Œæ‰¾åˆ° ImmortalWrt çš„ IP
2. æµè§ˆå™¨è®¿é—®: `http://[è·å–çš„IP]`

**å¤šç½‘å£æ¨¡å¼**
1. å®¿ä¸»æœºæ·»åŠ  Host-Only ç½‘ç»œé€‚é…å™¨
2. é…ç½®å®¿ä¸»æœº IP: `192.168.100.2`ï¼Œå­ç½‘æ©ç : `255.255.255.0`
3. æµè§ˆå™¨è®¿é—®: `http://192.168.100.1`

**é¢„æœŸç»“æœ**:
- æ˜¾ç¤º LuCI ç™»å½•é¡µé¢
- ç”¨æˆ·å: `root`
- å¯†ç : `password`
- ä¸»é¢˜: Argonï¼ˆè“è‰²æ¸å˜ä¸»é¢˜ï¼‰

---

### 4.2 IPv6 åŠŸèƒ½æµ‹è¯•

#### âœ… æµ‹è¯•4: éªŒè¯ IPv6 æ”¯æŒ

**è·¯ç”±å™¨ç»ˆç«¯**
```bash
# æ£€æŸ¥ IPv6 å†…æ ¸æ”¯æŒ
cat /proc/net/if_inet6
# é¢„æœŸ: æ˜¾ç¤º IPv6 åœ°å€åˆ—è¡¨

# æ£€æŸ¥ IPv6 è½¬å‘
sysctl net.ipv6.conf.all.forwarding
# é¢„æœŸ: net.ipv6.conf.all.forwarding = 1

# æµ‹è¯• IPv6 è¿æ¥
ping6 google.com -c 4
# é¢„æœŸ: æˆåŠŸæ¥æ”¶åˆ°å“åº”
```

**Web ç•Œé¢**
1. è®¿é—®: ç½‘ç»œ â†’ æ¥å£
2. æ£€æŸ¥æ˜¯å¦æœ‰ WAN6 æ¥å£
3. é¢„æœŸ: WAN6 çŠ¶æ€æ˜¾ç¤º IPv6 åœ°å€

---

### 4.3 åŸºç¡€ç»„ä»¶æµ‹è¯•

#### âœ… æµ‹è¯•5: å‘½ä»¤è¡Œå·¥å…·

```bash
# æµ‹è¯• curl
curl -I https://www.baidu.com
# é¢„æœŸ: è¿”å› HTTP 200 OK

# æµ‹è¯• wget
wget -O /tmp/test.html https://www.baidu.com
# é¢„æœŸ: ä¸‹è½½æˆåŠŸ

# æµ‹è¯• htop
htop
# é¢„æœŸ: æ˜¾ç¤ºè¿›ç¨‹ç›‘æ§ç•Œé¢ï¼ˆæŒ‰ q é€€å‡ºï¼‰

# æµ‹è¯• vim
vim /tmp/test.txt
# é¢„æœŸ: è¿›å…¥ Vim ç¼–è¾‘å™¨ï¼ˆ:q! é€€å‡ºï¼‰

# æµ‹è¯• nano
nano /tmp/test.txt
# é¢„æœŸ: è¿›å…¥ Nano ç¼–è¾‘å™¨ï¼ˆCtrl+X é€€å‡ºï¼‰
```

#### âœ… æµ‹è¯•6: é˜²ç«å¢™ç®¡ç†

**Web ç•Œé¢**
1. è®¿é—®: ç½‘ç»œ â†’ é˜²ç«å¢™
2. é¢„æœŸ: æ˜¾ç¤ºé˜²ç«å¢™è§„åˆ™é…ç½®é¡µé¢
3. æ£€æŸ¥åŒºåŸŸ: lan, wan
4. æµ‹è¯•: æ·»åŠ ä¸€æ¡ç«¯å£è½¬å‘è§„åˆ™
5. ä¿å­˜å¹¶åº”ç”¨

**ç»ˆç«¯éªŒè¯**
```bash
# æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€
fw4 check
# é¢„æœŸ: æ— é”™è¯¯

# æŸ¥çœ‹ iptables è§„åˆ™
iptables -L -n -v
# é¢„æœŸ: æ˜¾ç¤ºè§„åˆ™åˆ—è¡¨
```

#### âœ… æµ‹è¯•7: è½¯ä»¶åŒ…ç®¡ç†å™¨

**Web ç•Œé¢**
1. è®¿é—®: ç³»ç»Ÿ â†’ è½¯ä»¶åŒ…
2. ç‚¹å‡» "æ›´æ–°åˆ—è¡¨"
3. é¢„æœŸ: æˆåŠŸè·å–è½¯ä»¶åŒ…åˆ—è¡¨
4. æœç´¢: `nano`
5. é¢„æœŸ: æ˜¾ç¤ºå·²å®‰è£…

**ç»ˆç«¯**
```bash
# æ›´æ–°è½¯ä»¶åŒ…åˆ—è¡¨
opkg update

# æœç´¢è½¯ä»¶åŒ…
opkg list | grep curl
# é¢„æœŸ: æ˜¾ç¤º curl ç›¸å…³åŒ…

# æŸ¥çœ‹å·²å®‰è£…åŒ…
opkg list-installed | wc -l
# é¢„æœŸ: æ˜¾ç¤ºå·²å®‰è£…åŒ…æ•°é‡
```

#### âœ… æµ‹è¯•8: ç½‘é¡µç»ˆç«¯ï¼ˆTTYDï¼‰

**Web ç•Œé¢**
1. è®¿é—®: ç³»ç»Ÿ â†’ TTYD ç»ˆç«¯
2. é¢„æœŸ: åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ç»ˆç«¯
3. æµ‹è¯•å‘½ä»¤: `uname -a`
4. é¢„æœŸ: æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯

---

### 4.4 å­˜å‚¨ç®¡ç†æµ‹è¯•

#### âœ… æµ‹è¯•9: ç£ç›˜ç®¡ç†å™¨

**Web ç•Œé¢**
1. è®¿é—®: ç³»ç»Ÿ â†’ ç£ç›˜ç®¡ç†
2. é¢„æœŸ: æ˜¾ç¤ºå½“å‰ç£ç›˜åˆ†åŒºä¿¡æ¯
3. æŸ¥çœ‹: `/` æ ¹åˆ†åŒºå¤§å°
4. é¢„æœŸ: æ˜¾ç¤ºçº¦ 1GB

**ç»ˆç«¯éªŒè¯**
```bash
# æŸ¥çœ‹ç£ç›˜ä½¿ç”¨
df -h
# é¢„æœŸ: æ˜¾ç¤ºæ ¹åˆ†åŒºçº¦ 1GB

# æŸ¥çœ‹åˆ†åŒº
fdisk -l /dev/sda
# é¢„æœŸ: æ˜¾ç¤ºåˆ†åŒºè¡¨
```

#### âœ… æµ‹è¯•10: Samba4 æ–‡ä»¶å…±äº«

**Web ç•Œé¢**
1. è®¿é—®: æœåŠ¡ â†’ ç½‘ç»œå…±äº«
2. æ·»åŠ å…±äº«ç›®å½•: `/tmp`
3. ä¿å­˜å¹¶åº”ç”¨

**Windows æµ‹è¯•**
```
åœ¨èµ„æºç®¡ç†å™¨åœ°å€æ è¾“å…¥:
\\192.168.100.1\tmp
```

**Linux/macOS æµ‹è¯•**
```bash
smbclient -L //192.168.100.1 -U root
# è¾“å…¥å¯†ç : password
# é¢„æœŸ: æ˜¾ç¤ºå…±äº«åˆ—è¡¨
```

---

### 4.5 æ–‡ä»¶ç®¡ç†æµ‹è¯•

#### âœ… æµ‹è¯•11: æ–‡ä»¶ç®¡ç†å™¨

**Web ç•Œé¢**
1. è®¿é—®: ç³»ç»Ÿ â†’ æ–‡ä»¶ç®¡ç†å™¨
2. é¢„æœŸ: æ˜¾ç¤ºæ–‡ä»¶æµè§ˆå™¨ç•Œé¢
3. æµ‹è¯•: æµè§ˆ `/etc` ç›®å½•
4. æµ‹è¯•: åˆ›å»ºæ–°æ–‡ä»¶ `/tmp/test.txt`
5. æµ‹è¯•: ä¸Šä¼ æ–‡ä»¶
6. æµ‹è¯•: ä¸‹è½½æ–‡ä»¶

#### âœ… æµ‹è¯•12: DUFS é™æ€æ–‡ä»¶æœåŠ¡

**Web ç•Œé¢**
1. è®¿é—®: æœåŠ¡ â†’ DUFS
2. å¯ç”¨æœåŠ¡
3. è®¾ç½®ç«¯å£: `5000`
4. è®¾ç½®è·¯å¾„: `/tmp`
5. ä¿å­˜å¹¶å¯åŠ¨

**æµè§ˆå™¨æµ‹è¯•**
```
è®¿é—®: http://192.168.100.1:5000
é¢„æœŸ: æ˜¾ç¤º /tmp ç›®å½•çš„æ–‡ä»¶åˆ—è¡¨
```

---

### 4.6 ç³»ç»Ÿç›‘æ§æµ‹è¯•

#### âœ… æµ‹è¯•13: ç³»ç»Ÿç»Ÿè®¡

**Web ç•Œé¢**
1. è®¿é—®: çŠ¶æ€ â†’ ç»Ÿè®¡ä¿¡æ¯
2. é¢„æœŸ: æ˜¾ç¤º CPUã€å†…å­˜ã€ç½‘ç»œå›¾è¡¨
3. ç­‰å¾… 2-3 åˆ†é’Ÿæ”¶é›†æ•°æ®
4. é¢„æœŸ: å›¾è¡¨å¼€å§‹æ˜¾ç¤ºæ•°æ®

#### âœ… æµ‹è¯•14: ç½‘ç»œå¸¦å®½ç›‘æ§ï¼ˆnlbwmonï¼‰

**Web ç•Œé¢**
1. è®¿é—®: çŠ¶æ€ â†’ å®æ—¶æµé‡
2. æˆ–è®¿é—®: æœåŠ¡ â†’ nlbwmon
3. é¢„æœŸ: æ˜¾ç¤ºå®æ—¶ç½‘ç»œä½¿ç”¨æƒ…å†µ
4. æµ‹è¯•: ä¸‹è½½æ–‡ä»¶è§¦å‘æµé‡
5. é¢„æœŸ: å›¾è¡¨æ˜¾ç¤ºæµé‡å³°å€¼

**ç»ˆç«¯éªŒè¯**
```bash
# æŸ¥çœ‹ nlbwmon æ•°æ®åº“
nlbw -c show
# é¢„æœŸ: æ˜¾ç¤ºç½‘ç»œä½¿ç”¨ç»Ÿè®¡
```

---

### 4.7 æ’ä»¶åŠŸèƒ½æµ‹è¯•

#### âœ… æµ‹è¯•15: Passwall

**Web ç•Œé¢**
1. è®¿é—®: æœåŠ¡ â†’ Passwall
2. é¢„æœŸ: æ˜¾ç¤º Passwall é…ç½®ç•Œé¢
3. æ£€æŸ¥: åŸºæœ¬è®¾ç½®ã€èŠ‚ç‚¹è®¢é˜…ã€DNS è®¾ç½®
4. é¢„æœŸ: ç•Œé¢å®Œæ•´ï¼Œæ— é”™è¯¯

**ç»ˆç«¯éªŒè¯**
```bash
# æ£€æŸ¥ Passwall è¿›ç¨‹
ps | grep passwall
# é¢„æœŸ: æ˜¾ç¤ºç›¸å…³è¿›ç¨‹ï¼ˆå¦‚å·²å¯ç”¨ï¼‰

# æ£€æŸ¥é…ç½®æ–‡ä»¶
ls -lh /etc/config/passwall*
# é¢„æœŸ: é…ç½®æ–‡ä»¶å­˜åœ¨
```

**åŠŸèƒ½æµ‹è¯•**ï¼ˆéœ€è¦ä»£ç†èŠ‚ç‚¹ï¼‰
1. æ·»åŠ ä¸€ä¸ªæµ‹è¯•èŠ‚ç‚¹
2. å¯ç”¨ Passwall
3. æµ‹è¯•è¿æ¥: `curl -I https://www.google.com`
4. é¢„æœŸ: æˆåŠŸè®¿é—®ï¼ˆå¦‚æœèŠ‚ç‚¹æœ‰æ•ˆï¼‰

#### âœ… æµ‹è¯•16: AdGuardHome

**Web ç•Œé¢**
1. è®¿é—®: æœåŠ¡ â†’ AdGuardHome
2. é¢„æœŸ: æ˜¾ç¤º AdGuardHome è®¾ç½®
3. ç‚¹å‡» "å¯åŠ¨ AdGuardHome"
4. è®¿é—® AdGuardHome ç®¡ç†ç•Œé¢ï¼ˆé€šå¸¸æ˜¯ http://192.168.100.1:3000ï¼‰

**åˆå§‹åŒ–å‘å¯¼**
1. è®¾ç½®ç®¡ç†å‘˜è´¦å·å¯†ç 
2. é…ç½® DNS ç«¯å£: `53` æˆ– `5353`
3. å®Œæˆè®¾ç½®

**åŠŸèƒ½æµ‹è¯•**
```bash
# æµ‹è¯• DNS æŸ¥è¯¢
nslookup baidu.com 192.168.100.1
# é¢„æœŸ: è¿”å› IP åœ°å€

# æµ‹è¯•å¹¿å‘Šè¿‡æ»¤
# åœ¨ AdGuardHome ä¸­æ·»åŠ è¿‡æ»¤è§„åˆ™ï¼Œç„¶åè®¿é—®å¹¿å‘Šç½‘ç«™æµ‹è¯•
```

**Web ç®¡ç†**
1. è®¿é—® AdGuardHome ç®¡ç†ç•Œé¢
2. æŸ¥çœ‹: ä»ªè¡¨ç›˜ â†’ æ˜¾ç¤ºæŸ¥è¯¢ç»Ÿè®¡
3. æŸ¥çœ‹: è¿‡æ»¤å™¨ â†’ æ·»åŠ å¹¿å‘Šè¿‡æ»¤è§„åˆ™
4. é¢„æœŸ: ç•Œé¢æ­£å¸¸å·¥ä½œ

#### âœ… æµ‹è¯•17: iStore åº”ç”¨å•†åº—

**Web ç•Œé¢**
1. è®¿é—®: iStore
2. é¢„æœŸ: æ˜¾ç¤ºåº”ç”¨å•†åº—ç•Œé¢
3. æµè§ˆå¯ç”¨åº”ç”¨
4. æµ‹è¯•: æœç´¢åº”ç”¨ï¼ˆå¦‚ `adblock`ï¼‰
5. é¢„æœŸ: æ˜¾ç¤ºæœç´¢ç»“æœ

**å®‰è£…æµ‹è¯•**ï¼ˆå¯é€‰ï¼‰
1. é€‰æ‹©ä¸€ä¸ªå°æ’ä»¶å®‰è£…
2. ç‚¹å‡» "å®‰è£…"
3. ç­‰å¾…å®‰è£…å®Œæˆ
4. é¢„æœŸ: æˆåŠŸå®‰è£…å¹¶å¯åœ¨èœå•ä¸­æ‰¾åˆ°

---

### 4.8 ç½‘ç»œåŠŸèƒ½æµ‹è¯•

#### âœ… æµ‹è¯•18: äº’è”ç½‘è¿æ¥

```bash
# Ping æµ‹è¯•
ping -c 4 8.8.8.8
# é¢„æœŸ: æˆåŠŸ

ping -c 4 baidu.com
# é¢„æœŸ: æˆåŠŸï¼ˆDNS è§£æ + ICMPï¼‰

# HTTP æµ‹è¯•
curl -I https://www.baidu.com
# é¢„æœŸ: HTTP/2 200
```

#### âœ… æµ‹è¯•19: DNS è§£æ

```bash
# æµ‹è¯• DNS
nslookup baidu.com
# é¢„æœŸ: è¿”å› IP åœ°å€

# æµ‹è¯•è‡ªå®šä¹‰ DNS
nslookup google.com 8.8.8.8
# é¢„æœŸ: è¿”å› IP åœ°å€
```

#### âœ… æµ‹è¯•20: NAT å’Œç«¯å£è½¬å‘ï¼ˆå¤šç½‘å£æ¨¡å¼ï¼‰

**è®¾ç½®ç«¯å£è½¬å‘**
1. Web ç•Œé¢: ç½‘ç»œ â†’ é˜²ç«å¢™ â†’ ç«¯å£è½¬å‘
2. æ·»åŠ è§„åˆ™:
   - åç§°: `Test SSH`
   - å¤–éƒ¨ç«¯å£: `2222`
   - å†…éƒ¨IP: `192.168.100.1`
   - å†…éƒ¨ç«¯å£: `22`
3. ä¿å­˜å¹¶åº”ç”¨

**æµ‹è¯•**
```bash
# ä»å®¿ä¸»æœºæµ‹è¯•
ssh -p 2222 root@192.168.100.1
# é¢„æœŸ: èƒ½å¤Ÿè¿æ¥åˆ°è·¯ç”±å™¨
```

---

## 5. å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜1: è™šæ‹Ÿæœºæ— æ³•å¯åŠ¨

**ç—‡çŠ¶**: é»‘å±æˆ–æŠ¥é”™

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ UEFI æ˜¯å¦å¯ç”¨ï¼ˆç³»ç»Ÿ â†’ ä¸»æ¿ â†’ å¯ç”¨ EFIï¼‰
2. æ£€æŸ¥å¯åŠ¨é¡ºåºï¼ˆåªå‹¾é€‰ç¡¬ç›˜ï¼‰
3. å°è¯•ç¦ç”¨ EFIï¼Œä½¿ç”¨ä¼ ç»Ÿ BIOS å¯åŠ¨
4. æ£€æŸ¥å›ºä»¶æ–‡ä»¶æ˜¯å¦å®Œæ•´ï¼ˆé‡æ–°è§£å‹ï¼‰

### é—®é¢˜2: æ— æ³•è®¿é—® Web ç•Œé¢

**ç—‡çŠ¶**: æµè§ˆå™¨æ— æ³•æ‰“å¼€ LuCI

**è§£å†³æ–¹æ¡ˆ**:

**å•ç½‘å£æ¨¡å¼**:
```bash
# åœ¨è™šæ‹Ÿæœºç»ˆç«¯æŸ¥çœ‹ IP
ip addr show br-lan
# ä½¿ç”¨æ˜¾ç¤ºçš„ IP è®¿é—®
```

**å¤šç½‘å£æ¨¡å¼**:
```bash
# æ£€æŸ¥å®¿ä¸»æœº Host-Only ç½‘å¡é…ç½®
# Windows: æ§åˆ¶é¢æ¿ â†’ ç½‘ç»œé€‚é…å™¨
# Linux: ip addr show vboxnet0
# ç¡®ä¿å®¿ä¸»æœº IP åœ¨ 192.168.100.x æ®µ
```

**é˜²ç«å¢™é—®é¢˜**:
```bash
# åœ¨è™šæ‹Ÿæœºç»ˆç«¯ä¸´æ—¶å…³é—­é˜²ç«å¢™æµ‹è¯•
/etc/init.d/firewall stop
# å¦‚æœèƒ½è®¿é—®ï¼Œè¯´æ˜æ˜¯é˜²ç«å¢™è§„åˆ™é—®é¢˜
```

### é—®é¢˜3: æ²¡æœ‰ç½‘ç»œè¿æ¥

**ç—‡çŠ¶**: è·¯ç”±å™¨æ— æ³•è®¿é—®äº’è”ç½‘

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ WAN æ¥å£çŠ¶æ€
ifstatus wan

# æ£€æŸ¥é»˜è®¤è·¯ç”±
ip route show

# æ£€æŸ¥ DNS
cat /tmp/resolv.conf.d/resolv.conf.auto

# é‡å¯ç½‘ç»œ
/etc/init.d/network restart
```

### é—®é¢˜4: IPv6 ä¸å·¥ä½œ

**ç—‡çŠ¶**: æ— æ³•è·å– IPv6 åœ°å€

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ä¸Šæ¸¸æ˜¯å¦æ”¯æŒ IPv6ï¼ˆå®¿ä¸»æœºæœ‰ IPv6 åœ°å€ï¼‰

# æ£€æŸ¥ WAN6 æ¥å£
uci show network.wan6

# æ‰‹åŠ¨é…ç½® DHCPv6
uci set network.wan6.proto='dhcpv6'
uci commit network
/etc/init.d/network restart
```

### é—®é¢˜5: AdGuardHome æ— æ³•å¯åŠ¨

**ç—‡çŠ¶**: æœåŠ¡å¯åŠ¨å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tunlp | grep 53

# å¦‚æœ dnsmasq å ç”¨ 53 ç«¯å£ï¼Œæ”¹ç”¨å…¶ä»–ç«¯å£
# åœ¨ AdGuardHome è®¾ç½®ä¸­ä½¿ç”¨ 5353 ç«¯å£

# æ£€æŸ¥æ—¥å¿—
logread | grep -i adguard
```

### é—®é¢˜6: Passwall æ— èŠ‚ç‚¹

**ç—‡çŠ¶**: Passwall ç•Œé¢ä¸ºç©º

**è¯´æ˜**: è¿™æ˜¯æ­£å¸¸çš„ï¼Passwall éœ€è¦æ‚¨æ‰‹åŠ¨æ·»åŠ ä»£ç†èŠ‚ç‚¹ã€‚

**è§£å†³æ–¹æ¡ˆ**:
1. è·å–ä»£ç†èŠ‚ç‚¹ä¿¡æ¯ï¼ˆè®¢é˜…é“¾æ¥æˆ–æ‰‹åŠ¨é…ç½®ï¼‰
2. åœ¨ Passwall ç•Œé¢æ·»åŠ èŠ‚ç‚¹
3. ç”±äºæ‚¨çš„ç½‘ç»œç¯å¢ƒå¯èƒ½æ²¡æœ‰èŠ‚ç‚¹ï¼Œå¯ä»¥è·³è¿‡æ­¤æµ‹è¯•

---

## 6. ç‰©ç†æœºæµ‹è¯•

### 6.1 å†™å…¥ Uç›˜/ç¡¬ç›˜

**è­¦å‘Š**: è¿™å°†æ¸…ç©ºç›®æ ‡è®¾å¤‡çš„æ‰€æœ‰æ•°æ®ï¼

**Windowsï¼ˆä½¿ç”¨ Rufusï¼‰**
1. ä¸‹è½½ Rufus: https://rufus.ie/
2. æ’å…¥ Uç›˜
3. é€‰æ‹©å›ºä»¶ `.img` æ–‡ä»¶
4. é€‰æ‹© "DD é•œåƒæ¨¡å¼"
5. ç‚¹å‡» "å¼€å§‹"

**Windowsï¼ˆä½¿ç”¨ Win32DiskImagerï¼‰**
1. ä¸‹è½½ Win32DiskImager
2. é€‰æ‹© `.img` æ–‡ä»¶å’Œç›®æ ‡ Uç›˜
3. ç‚¹å‡» "Write"

**Linux/macOS**
```bash
# æŸ¥çœ‹è®¾å¤‡åˆ—è¡¨
lsblk  # æˆ– diskutil list (macOS)

# å†™å…¥å›ºä»¶ï¼ˆæ›¿æ¢ /dev/sdX ä¸ºå®é™…è®¾å¤‡ï¼‰
sudo dd if=immortalwrt-*.img of=/dev/sdX bs=4M status=progress
sudo sync

# macOS
sudo dd if=immortalwrt-*.img of=/dev/rdiskX bs=4m
```

### 6.2 ç‰©ç†æœºå¯åŠ¨

1. å°† Uç›˜/ç¡¬ç›˜æ’å…¥ç›®æ ‡ç”µè„‘
2. è¿›å…¥ BIOS è®¾ç½®
3. å¯ç”¨ UEFI å¯åŠ¨
4. è®¾ç½®ä» Uç›˜/ç¡¬ç›˜å¯åŠ¨
5. ä¿å­˜å¹¶é‡å¯

### 6.3 ç‰©ç†æœºæµ‹è¯•è¦ç‚¹

- âœ… æµ‹è¯•çœŸå®ç½‘å¡é©±åŠ¨
- âœ… æµ‹è¯•æœ‰çº¿ç½‘ç»œæ€§èƒ½
- âœ… æµ‹è¯• WiFiï¼ˆå¦‚æœå›ºä»¶æ”¯æŒï¼‰
- âœ… æµ‹è¯•é•¿æ—¶é—´è¿è¡Œç¨³å®šæ€§
- âœ… æµ‹è¯•å¤šè®¾å¤‡å¹¶å‘è¿æ¥

---

## 7. æµ‹è¯•æŠ¥å‘Šæ¨¡æ¿

å®Œæˆæµ‹è¯•åï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿è®°å½•ç»“æœï¼š

```markdown
# ImmortalWrt æµ‹è¯•æŠ¥å‘Š

**å›ºä»¶ç‰ˆæœ¬**: immortalwrt-24.10.2-x86-64
**æ„å»ºæ—¥æœŸ**: YYYY-MM-DD
**æµ‹è¯•ç¯å¢ƒ**: VirtualBox 7.x / ç‰©ç†æœº
**æµ‹è¯•æ—¥æœŸ**: YYYY-MM-DD

## åŸºç¡€åŠŸèƒ½

- [ ] ç³»ç»Ÿå¯åŠ¨: âœ… / âŒ
- [ ] Web ç•Œé¢è®¿é—®: âœ… / âŒ
- [ ] ç½‘ç»œè¿æ¥: âœ… / âŒ
- [ ] IPv6 æ”¯æŒ: âœ… / âŒ

## åŸºç¡€ç»„ä»¶

- [ ] é˜²ç«å¢™: âœ… / âŒ
- [ ] åŒ…ç®¡ç†å™¨: âœ… / âŒ
- [ ] ç½‘é¡µç»ˆç«¯: âœ… / âŒ
- [ ] ç£ç›˜ç®¡ç†: âœ… / âŒ
- [ ] Samba4: âœ… / âŒ
- [ ] æ–‡ä»¶ç®¡ç†å™¨: âœ… / âŒ
- [ ] DUFS: âœ… / âŒ
- [ ] ç³»ç»Ÿç»Ÿè®¡: âœ… / âŒ
- [ ] å¸¦å®½ç›‘æ§: âœ… / âŒ

## æ’ä»¶åŠŸèƒ½

- [ ] Passwall: âœ… / âŒ / æœªæµ‹è¯•
- [ ] AdGuardHome: âœ… / âŒ / æœªæµ‹è¯•
- [ ] iStore: âœ… / âŒ

## å‘½ä»¤è¡Œå·¥å…·

- [ ] curl: âœ… / âŒ
- [ ] wget: âœ… / âŒ
- [ ] htop: âœ… / âŒ
- [ ] vim: âœ… / âŒ
- [ ] nano: âœ… / âŒ

## é—®é¢˜è®°å½•

1. [æè¿°é‡åˆ°çš„é—®é¢˜]
2. [è§£å†³æ–¹æ¡ˆ]

## æ€»ä½“è¯„ä»·

[æ‚¨çš„æµ‹è¯•æ€»ç»“]
```

---

## 8. å¿«é€Ÿæµ‹è¯•è„šæœ¬

å°†ä»¥ä¸‹è„šæœ¬ä¿å­˜ä¸º `test.sh`ï¼Œåœ¨è·¯ç”±å™¨ä¸­è¿è¡Œå¯å¿«é€ŸéªŒè¯åŸºç¡€åŠŸèƒ½ï¼š

```bash
#!/bin/sh

echo "=== ImmortalWrt å¿«é€Ÿæµ‹è¯•è„šæœ¬ ==="
echo ""

# æµ‹è¯•1: ç³»ç»Ÿä¿¡æ¯
echo "[1] ç³»ç»Ÿä¿¡æ¯"
cat /etc/openwrt_release | grep DISTRIB_DESCRIPTION
uname -a
echo ""

# æµ‹è¯•2: ç½‘ç»œè¿æ¥
echo "[2] ç½‘ç»œè¿æ¥æµ‹è¯•"
ping -c 3 8.8.8.8 && echo "âœ… IPv4 è¿æ¥æ­£å¸¸" || echo "âŒ IPv4 è¿æ¥å¤±è´¥"
ping6 -c 3 google.com 2>/dev/null && echo "âœ… IPv6 è¿æ¥æ­£å¸¸" || echo "âš ï¸  IPv6 ä¸å¯ç”¨"
echo ""

# æµ‹è¯•3: DNS è§£æ
echo "[3] DNS è§£ææµ‹è¯•"
nslookup baidu.com >/dev/null 2>&1 && echo "âœ… DNS è§£ææ­£å¸¸" || echo "âŒ DNS è§£æå¤±è´¥"
echo ""

# æµ‹è¯•4: å·²å®‰è£…è½¯ä»¶åŒ…
echo "[4] æ£€æŸ¥å…³é”®è½¯ä»¶åŒ…"
for pkg in curl wget htop vim-full nano luci-app-passwall luci-app-adguardhome; do
    opkg list-installed | grep -q "^$pkg " && echo "âœ… $pkg" || echo "âŒ $pkg æœªå®‰è£…"
done
echo ""

# æµ‹è¯•5: æœåŠ¡çŠ¶æ€
echo "[5] æœåŠ¡çŠ¶æ€"
for svc in firewall network dnsmasq; do
    /etc/init.d/$svc status >/dev/null 2>&1 && echo "âœ… $svc è¿è¡Œä¸­" || echo "âŒ $svc æœªè¿è¡Œ"
done
echo ""

# æµ‹è¯•6: ç£ç›˜ç©ºé—´
echo "[6] ç£ç›˜ç©ºé—´"
df -h / | tail -1
echo ""

# æµ‹è¯•7: å†…å­˜ä½¿ç”¨
echo "[7] å†…å­˜ä½¿ç”¨"
free -h
echo ""

echo "=== æµ‹è¯•å®Œæˆ ==="
```

**ä½¿ç”¨æ–¹æ³•**:
```bash
# åœ¨è·¯ç”±å™¨ç»ˆç«¯
wget -O /tmp/test.sh https://example.com/test.sh
chmod +x /tmp/test.sh
/tmp/test.sh
```

---

## 9. æ€§èƒ½åŸºå‡†æµ‹è¯•ï¼ˆå¯é€‰ï¼‰

### CPU æ€§èƒ½
```bash
# å®‰è£… sysbench
opkg update
opkg install sysbench

# CPU æµ‹è¯•
sysbench cpu --cpu-max-prime=20000 run
```

### ç½‘ç»œååé‡
```bash
# å®‰è£… iperf3
opkg install iperf3

# æœåŠ¡ç«¯
iperf3 -s

# å®¢æˆ·ç«¯ï¼ˆä»å¦ä¸€å°æœºå™¨ï¼‰
iperf3 -c 192.168.100.1
```

### ç£ç›˜æ€§èƒ½
```bash
# å†™å…¥æµ‹è¯•
dd if=/dev/zero of=/tmp/testfile bs=1M count=100
# è¯»å–æµ‹è¯•
dd if=/tmp/testfile of=/dev/null bs=1M
```

---

## 10. ä¸‹ä¸€æ­¥

æµ‹è¯•å®Œæˆåï¼š

1. âœ… **å¦‚æœæ‰€æœ‰æµ‹è¯•é€šè¿‡**: å¯ä»¥éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
2. âš ï¸ **å¦‚æœæœ‰éƒ¨åˆ†å¤±è´¥**: æ£€æŸ¥æ„å»ºé…ç½®æˆ–æŠ¥å‘Šé—®é¢˜
3. ğŸ“ **è®°å½•æµ‹è¯•ç»“æœ**: ä¾¿äºåç»­å‚è€ƒ
4. ğŸ”„ **å®šæœŸæ›´æ–°æµ‹è¯•**: æ¯æ¬¡æ„å»ºæ–°å›ºä»¶éƒ½åº”é‡æ–°æµ‹è¯•

---

## éœ€è¦å¸®åŠ©ï¼Ÿ

- ğŸ“– æŸ¥çœ‹ [å¸¸è§é—®é¢˜æ’æŸ¥](#5-å¸¸è§é—®é¢˜æ’æŸ¥)
- ğŸ› æäº¤ Issue: https://github.com/wukongdaily/AutoBuildImmortalWrt/issues
- ğŸ’¬ è®¨è®ºåŒº: https://github.com/wukongdaily/AutoBuildImmortalWrt/discussions

---

**ç¥æµ‹è¯•é¡ºåˆ©ï¼** ğŸ‰
